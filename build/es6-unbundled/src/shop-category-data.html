<html><head><link rel="import" href="../bower_components/polymer/polymer-element.html"></head><body><dom-module id="shop-category-data"><script>(function(){let categoryList=[{name:"mens_outerwear",title:"Men's Outerwear",image:"images/mens_outerwear.jpg",placeholder:"data:image/jpeg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAAAeAAD/7gAOQWRvYmUAZMAAAAAB/9sAhAAQCwsLDAsQDAwQFw8NDxcbFBAQFBsfFxcXFxcfHhcaGhoaFx4eIyUnJSMeLy8zMy8vQEBAQEBAQEBAQEBAQEBAAREPDxETERUSEhUUERQRFBoUFhYUGiYaGhwaGiYwIx4eHh4jMCsuJycnLis1NTAwNTVAQD9AQEBAQEBAQEBAQED/wAARCAADAA4DASIAAhEBAxEB/8QAXAABAQEAAAAAAAAAAAAAAAAAAAIEAQEAAAAAAAAAAAAAAAAAAAACEAAAAwYHAQAAAAAAAAAAAAAAERMBAhIyYhQhkaEDIwUVNREBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEQMRAD8A3dkr5e8tfpwuneJITOzIcmQpit037Bw4mnCVNOpAAQv/2Q=="},{name:"ladies_outerwear",title:"Ladies Outerwear",image:"images/ladies_outerwear.jpg",placeholder:"data:image/jpeg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAAAeAAD/7gAOQWRvYmUAZMAAAAAB/9sAhAAQCwsLDAsQDAwQFw8NDxcbFBAQFBsfFxcXFxcfHhcaGhoaFx4eIyUnJSMeLy8zMy8vQEBAQEBAQEBAQEBAQEBAAREPDxETERUSEhUUERQRFBoUFhYUGiYaGhwaGiYwIx4eHh4jMCsuJycnLis1NTAwNTVAQD9AQEBAQEBAQEBAQED/wAARCAADAA4DASIAAhEBAxEB/8QAWQABAQAAAAAAAAAAAAAAAAAAAAEBAQEAAAAAAAAAAAAAAAAAAAIDEAABAwMFAQAAAAAAAAAAAAARAAEygRIDIlITMwUVEQEBAAAAAAAAAAAAAAAAAAAAQf/aAAwDAQACEQMRAD8Avqn5meQ0kwk1UyclmLtNj7L4PQoioFf/2Q=="},{name:"mens_tshirts",title:"Men's T-Shirts",image:"images/mens_tshirts.jpg",placeholder:"data:image/jpeg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAAAeAAD/7gAOQWRvYmUAZMAAAAAB/9sAhAAQCwsLDAsQDAwQFw8NDxcbFBAQFBsfFxcXFxcfHhcaGhoaFx4eIyUnJSMeLy8zMy8vQEBAQEBAQEBAQEBAQEBAAREPDxETERUSEhUUERQRFBoUFhYUGiYaGhwaGiYwIx4eHh4jMCsuJycnLis1NTAwNTVAQD9AQEBAQEBAQEBAQED/wAARCAADAA4DASIAAhEBAxEB/8QAWwABAQEAAAAAAAAAAAAAAAAAAAMEAQEAAAAAAAAAAAAAAAAAAAAAEAABAwEJAAAAAAAAAAAAAAARAAESEyFhodEygjMUBREAAwAAAAAAAAAAAAAAAAAAAEFC/9oADAMBAAIRAxEAPwDb7kupZU1MTGnvOCgxpvzEXTyRElCmf//Z"},{name:"ladies_tshirts",title:"Ladies T-Shirts",image:"images/ladies_tshirts.jpg",placeholder:"data:image/jpeg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAAAeAAD/7gAOQWRvYmUAZMAAAAAB/9sAhAAQCwsLDAsQDAwQFw8NDxcbFBAQFBsfFxcXFxcfHhcaGhoaFx4eIyUnJSMeLy8zMy8vQEBAQEBAQEBAQEBAQEBAAREPDxETERUSEhUUERQRFBoUFhYUGiYaGhwaGiYwIx4eHh4jMCsuJycnLis1NTAwNTVAQD9AQEBAQEBAQEBAQED/wAARCAADAA4DASIAAhEBAxEB/8QAXwABAQEAAAAAAAAAAAAAAAAAAAMFAQEBAAAAAAAAAAAAAAAAAAABAhAAAQIDCQAAAAAAAAAAAAAAEQABITETYZECEjJCAzMVEQACAwAAAAAAAAAAAAAAAAAAATFBgf/aAAwDAQACEQMRAD8AzeADAZiFc5J7BC9Scek3VrtooilSNaf/2Q=="}];class ShopCategoryData extends Polymer.Element{static get is(){return"shop-category-data"}static get properties(){return{categoryName:String,itemName:String,categories:{type:Array,value:categoryList,readOnly:!0,notify:!0},category:{type:Object,computed:"_computeCategory(categoryName)",notify:!0},item:{type:Object,computed:"_computeItem(category.items, itemName)",notify:!0},failure:{type:Boolean,notify:!0,readOnly:!0}}}_getCategoryObject(categoryName){for(let i=0,c;c=this.categories[i];++i){if(c.name===categoryName){return c}}}_computeCategory(categoryName){let categoryObj=this._getCategoryObject(categoryName);this._fetchItems(categoryObj,1);return categoryObj}_computeItem(items,itemName){if(!items||!itemName){return}for(let i=0,item;item=items[i];++i){if(item.name===itemName){return item}}}_fetchItems(category,attempts){this._setFailure(!1);if(!category||category.items){return}this._getResource({url:"data/"+category.name+".json",onLoad(e){this.set("category.items",JSON.parse(e.target.responseText))},onError(){this._setFailure(!0)}},attempts)}_getResource(rq,attempts){let xhr=new XMLHttpRequest;xhr.addEventListener("load",rq.onLoad.bind(this));xhr.addEventListener("error",e=>{if(1<attempts){this._getResourceDebouncer=Polymer.Debouncer.debounce(this._getResourceDebouncer,Polymer.Async.timeOut.after(200),this._getResource.bind(this,rq,attempts-1))}else{rq.onError.call(this,e)}});xhr.open("GET",rq.url);xhr.send()}refresh(){if(this.categoryName){this._fetchItems(this._getCategoryObject(this.categoryName),3)}}}customElements.define(ShopCategoryData.is,ShopCategoryData)})();</script></dom-module></body></html>